<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>

<!-- thanks to malsup.github.com/form -->
<script src="jquery.form.js"></script> 

<!-- thanks to datejs.com -->
<script type="text/javascript" src="date.js"></script>

<!-- main.css was generated from main.scss using sass  (syntactically awesome stylesheets)
http://sass-lang.com/  -->
<link rel="stylesheet" type="text/css" href="main.css" />
</head>

<body>

<h1>Interesting Age</h1>

<p id="#form-message"></p>
<form id="birthday" action="json-echo.php" method="GET">
	Enter your Birthday:<br>
	Year: <input type="text" name="year" id="year" value="" />
	Month: <select name="month" id="month"></select>
	Day: <select name="day" id="day"></select> <br>
<input type="submit" value="Submit" />
</form>

<div id="functions">
	<p>Click the buttons to show or hide mathematical functions:</p>
	<div id="showhide">
		<button type="button" id="pow2_" class="">Power of 2</button>
		<button type="button" id="pow10_" class="">Power of 10</button>
		<button type="button" id="factorial" class="show">Factorial</button>
		<button type="button" id="repunit" class="">Repunit</button>
		<button type="button" id="bell" class="">Bell</button>
		<button type="button" id="fibonacci" class="">Fibonacci</button><br />
		<button type="button" id="catalan" class="">Catalan</button>
		<button type="button" id="planet" class="">Planets</button>
		<button type="button" id="primes" class="">Primes</button>
		<button type="button" id="fermat" class="">Fermat</button>
		<button type="button" id="mersenne" class="">Mersenne</button>
		<button type="button" id="digits" class="">Digits</button>
	</div>
	<div id="explanation">
		<h1>Factorial</h1>
		<p>If you see an integer followed by an exclamation point (like so: 9!), mathematicians call that a factorial. The factorial is shorthand for an instruction to multiply the number by all other whole numbers below it. For instance, 9! (read "nine factorial") is equal to 9 x 8 x 7 x 6 x 5 x 4 x 3 x 2 x 1, which equals 362,880. That's a large, but manageable number. Factorials become unmanageable very, very quickly. 100! is a number with 157 digits. </p>

		<p>See <a href="http://en.wikipedia.org/wiki/Factorial">Factorial</a> for more information.</p>
	</div>
</div>


<div id="allresults">
	<div class="header">
		<div class="time">Length of time</div>
		<div class="date">Time and Date</div>
		<div class="age">Age (approx)</div>
	</div>
</div>



<script>

var bell = {
	0 : 1, 
	1 : 1, 
	2 : 2, 
	3 : 5, 
	4 : 15, 
	5 : 52, 
	6 : 203, 
	7 : 877, 
	8 : 4140, 
	9 : 21147, 
	10 : 115975,
	11 : 678570,
	12 : 4213597,
	13 : 27644437,
	14 : 190899322,
	15 : 1382958545,
	16 : 10480142147,
	17 : 82864869804,
	18 : 682076806159,
	19 : 5832742205057,
	20 : 51724158235372,
	21 : 474869816156751,
	22 : 4506715738447323,
	23 : 44152005855084346,
	24 : 445958869294805289,
	25 : 4638590332229999353,
	26 : 49631246523618756274
}

var catalan = {
	0 : 1,
	1 : 1,
	2 : 2,
	3 : 5,
	4 : 14,
	5 : 42,
	6 : 132,
	7 : 429,
	8 : 1430,
	9 : 4862,
	10 : 16796,
	11 : 58786,
	12 : 208012,
	13 : 742900,
	14 : 2674440,
	15 : 9694845,
	16 : 35357670,
	17 : 129644790,
	18 : 477638700,
	19 : 1767263190,
	20 : 6564120420,
	21 : 24466267020,
	22 : 91482563640,
	23 : 343059613650,
	24 : 1289904147324,
	25 : 4861946401452,
	26 : 18367353072152,
	27 : 69533550916004,
	28 : 263747951750360,
	29 : 1002242216651368,
	30 : 3814986502092304
}

var fermat = {
	1 : 3,
	2 : 5,
	3 : 17,
	4 : 257,
	5 : 65537,
	6 : 4294967297,
	7 : 18446744073709551617
}

var repunit = {
	1 :  1,
	2 :  11,
	3 :  111,
	4 :  1111,
	5 :  11111,
	6 :  111111,
	7 :  1111111,
	8 :  11111111,
	9 :  111111111,
	10 : 1111111111,
	11 : 11111111111
}

var factorials = {
	1 : 1,
	2 : 2,
	3 : 6,
	4 : 24,
	5 : 120,
	6 : 720,
	7 : 5040,
	8 : 40320,
	9 : 362880,
	10: 3628800,
	11: 39916800,
	12: 479001600,
	13: 6227020800,
	14: 87178291200,
	15: 1307674368000
}
	
var fibonacci = {
	0 :0,
	1 :1,
	2 :1,
	3 :2,
	4 :3,
	5 :5,
	6 :8,
	7 :13,
	8 :21,
	9 :34,
	10 : 55,
	11 : 89,
	12 : 144,
	13 : 233,
	14 : 377,
	15 : 610,
	16 : 987,
	17 : 1597,
	18 : 2584,
	19 : 4181,
	20 : 6765,
	21 : 10946,
	22 : 17711,
	23 : 28657,
	24 : 46368,
	25 : 75025,
	26 : 121393,
	27 : 196418,
	28 : 317811,
	29 : 514229,
	30 : 832040,
	31 : 1346269,
	32 : 2178309,
	33 : 3524578,
	34 : 5702887,
	35 : 9227465,
	36 : 14930352,
	37 : 24157817,
	38 : 39088169,
	39 : 63245986,
	40 : 102334155,
	41 : 165580141,
	42 : 267914296,
	43 : 433494437,
	44 : 701408733,
	45 : 1134903170,
	46 : 1836311903,
	47 : 2971215073,
	48 : 4807526976,
	49 : 7778742049,
	50 : 12586269025,
	51 : 20365011074,
	52 : 32951280099,
	53 : 53316291173,
	54 : 86267571272,
	55 : 139583862445,
	56 : 225851433717,
	57 : 365435296162,
	58 : 591286729879,
	59 : 956722026041,
	60 : 1548008755920,
	61 : 2504730781961,
	62 : 4052739537881,
	63 : 6557470319842,
	64 : 10610209857723,
	65 : 17167680177565,
	66 : 27777890035288,
	67 : 44945570212853,
	68 : 72723460248141,
	69 : 117669030460994,
	70 : 190392490709135,
	71 : 308061521170129,
	72 : 498454011879264,
	73 : 806515533049393,
	74 : 1304969544928657,
	75 : 2111485077978050,
	76 : 3416454622906707,
	77 : 5527939700884757,
	78 : 8944394323791464,
	79 : 14472334024676221,
	80 : 23416728348467685,
	81 : 37889062373143906,
	82 : 61305790721611591,
	83 : 99194853094755497,
	84 : 160500643816367088,
	85 : 259695496911122585,
	86 : 420196140727489673,
	87 : 679891637638612258,
	88 : 1100087778366101931,
	89 : 1779979416004714189,
	90 : 2880067194370816120,
	91 : 4660046610375530309,
	92 : 7540113804746346429,
	93 : 12200160415121876738,
	94 : 19740274219868223167,
	95 : 31940434634990099905,
	96 : 51680708854858323072,
	97 : 83621143489848422977,
	98 : 135301852344706746049,
	99 : 218922995834555169026,
	100 : 354224848179261915075
}

var primes = {
	"10^1" : 29,
	"10^2" : 541,
	"10^3" : 7919,
	"10^4" : 104729,
	"10^5" : 1299709,
	"10^6" : 15485863,
	"10^7" : 179424673,
	"10^8" : 2038074743,
	"10^9" : 22801763489	
}

var mersenne = {
	1 : 3,
	2 : 7,
	3 : 31,
	4 : 127,
	5 : 8191,
	6 : 131071,
	7 : 524287,
	8 : 2147483647,
	9 : 2305843009213693951
}

var monthList = {
	"January" : 0,
	"February" : 1,
	"March" : 2,
	"April" : 3,
	"May" : 4,
	"June" : 5,
	"July" : 6,
	"August" : 7,
	"September" : 8,
	"October" : 9,
	"November" : 10,
	"December" : 11
};

var dayList = [];
for(i=1;i<=31;i++) {
	dayList.push(i);
};

function validate(formData, jqForm, options) {
	if (!formData[0].value) {
		alert('Please enter a year');
		return false;
	}
	
	var queryString = $.param(formData);
	
	var y = Number(formData[0].value);
	var m = Number(formData[1].value);
	var d = Number(formData[2].value);
	
	try {
		Date.validateYear(y);
	} catch(e) {
		alert('Year must be a number from 1 to 9999');
		return false;
	}
	
	try {
		Date.validateDay(d,y,m);
	} catch (e) {
		alert('That date does not exist.');
		return false;
	}
}


function addAge(milliseconds, element) {
	var dom = $(".age."+element);
	var plural = "s";
	
	if (milliseconds < 1000) {
		dom.html(milliseconds+" milliseconds");
		return 0;
	} else {
		var sec = milliseconds / 1000;
		if (sec < 60) {
			var sec_round = Math.round(sec);
			if (sec_round == 1) { plural = "" };
			dom.html(sec_round+" second"+plural);
			return 0;
		} else {
			var min = sec / 60;
			if (min < 60) {
				var min_round = Math.round(min);
				if (min_round == 1) { plural = "" };
				dom.html(min_round+" minute"+plural);
				return 0;
			} else {
				var hr = min / 60;
				if (hr < 24) {
					var hr_round = Math.round(hr);
					if (hr_round == 1) { plural = "" };
					dom.html(hr_round+" hour"+plural);
					return 0;
				} else {
					var dy = hr / 24;
					if (dy < 7) {
						var dy_round = Math.round(dy);
						if (dy_round == 1) { plural = "" };
						dom.html(dy_round+" day"+plural);
						return 0;
					} else {
						var wk = dy / 7;
						var yr = dy / 365.2425;
						var mo = yr * 12;
						if (wk < 4) {
							var wk_round = Math.round(wk);
							if (wk_round == 1) { plural = "" };
							dom.html(wk_round+" week"+plural);
							return 0;
						} else {
							if (mo < 12) {
								var mo_round = Math.round(mo);
								if (mo_round == 1) { plural = "" };
								dom.html(mo_round+" month"+plural);
								return 0;
							} else {
								var mo_str = "";
								var dy_str = "";
								var yr_round = Math.floor(yr);
								var mo_rem = Math.floor(12*(yr - yr_round));
								var day_rem = Math.floor(365*(yr - yr_round - mo_rem/12));
								
								if (yr_round == 1) { plural = "" };
								
								if (mo_rem == 1 ) {
									mo_str = mo_rem+" mo ";
								} else if (mo_rem > 1) {
									mo_str = mo_rem+" mos ";
								}
								
								if (day_rem == 1) {
									dy_str = day_rem+" day";
								} else if (day_rem > 1) {
									dy_str = day_rem+" days";
								}
									
								dom.html(yr_round+" year"+plural+" "+mo_str+dy_str);
								
								return yr_round;
							}
						}
					}
				}
			}
		}
	}
}

function add_Row(array) {

	var elem = array["element"];
	var lab = array["label"];
	var unit = array["unit"];
	var number = array["number"];
	var factor = array["factor"];
	var list_name = array["list_name"];

	var default_date = Date.today();

	var dayclone = default_date.clone();
	dayclone.addMilliseconds(number*factor);
	var date = dayclone.toString("hh:MM MMM d, yyyy");

	$("#allresults").append("<div class=\"item "+list_name+" "+elem+"\"></div>");
		$(".item."+elem).append("<div class=\"time\">"+lab+" "+unit+"</div>");
		$(".item."+elem).append("<div class=\"date "+elem+"\">"+date+"</div>");
		$(".item."+elem).append("<div class=\"age "+elem+"\"></div>");

	var myage = addAge(number*factor, elem);

	var ageclass = 10*Math.floor(myage / 10);
	if (ageclass == 0) {
		ageclass = myage *10;
	};
	$(".item."+elem).addClass("age"+ageclass);

	if ( !$("button#"+list_name).hasClass("show") ) {
		$(".item."+list_name).hide();
	}

}

function edit_Row(bday, array) {
	var elem = array["element"];
	var number = array["number"];
	var factor = array["factor"];

	var dayclone = bday.clone();
	dayclone.addMilliseconds(number*factor);
	var date = dayclone.toString("hh:MM MMM d, yyyy");

	$(".date."+elem).html(date);
}


function hideList(list_name) {
	$(".item."+list_name).hide();
}

function showList(list_name) {
	$(".item."+list_name).show();
}

var count = 0;

var ms_ms = 1;
var ms_s = 1000;
var ms_min = 1000*60;
var ms_hr = 1000*60*60;
var ms_dy = 1000*60*60*24;

function addto_master(array, number, factor, element, label, list_name) {

	var unit = "";
	if (factor == ms_ms) {
		unit = "msec";
	} else if (factor == ms_s) {
		unit = "sec";
	} else if (factor == ms_min) {
		unit = "min";
	} else if (factor == ms_hr) {
		unit = "hour";
	} else if (factor == ms_dy) {
		unit = "day";
	}

	array[count] = [];
	array[count]["number"] = number;
	array[count]["factor"] = factor;
	array[count]["element"] = element+unit;
	array[count]["label"] = label;
	array[count]["unit"] = unit;
	array[count]["list_name"] = list_name;

	count++;

}

function addto_master_planet(array, number, factor, element, label, list_name) {
	array[count] = [];
	array[count]["number"] = number;
	array[count]["factor"] = factor;
	array[count]["element"] = element;
	array[count]["label"] = label;
	array[count]["unit"] = "";
	array[count]["list_name"] = list_name;

	count++;
}

function make_repunit_list(list_name) {
	var repunit_list = [];
	count = 0;

	for (var i=9; i<=10; i++) { addto_master(repunit_list, repunit[i], ms_s,   "repunit"+i, "repunit("+i+")", list_name); }
	for (var i=7; i<=8; i++)  { addto_master(repunit_list, repunit[i], ms_min, "repunit"+i, "repunit("+i+")", list_name); }
	for (var i=5; i<=7; i++)  { addto_master(repunit_list, repunit[i], ms_hr,  "repunit"+i, "repunit("+i+")", list_name); }
	for (var i=4; i<=5; i++)  { addto_master(repunit_list, repunit[i], ms_dy,  "repunit"+i, "repunit("+i+")", list_name); }

	return repunit_list;
}

function make_bell_list(list_name) {
	var bell_list = [];
	count = 0;

	for (var i=17; i<=18; i++) { addto_master(bell_list, bell[i], ms_ms,  "bell"+i, "bell("+i+")", list_name); }
	for (var i=14; i<=15; i++) { addto_master(bell_list, bell[i], ms_s,   "bell"+i, "bell("+i+")", list_name); }
	for (var i=11; i<=13; i++) { addto_master(bell_list, bell[i], ms_min, "bell"+i, "bell("+i+")", list_name); }
	for (var i=9; i<=11; i++)  { addto_master(bell_list, bell[i], ms_hr,  "bell"+i, "bell("+i+")", list_name); }
	for (var i=7; i<=9; i++)   { addto_master(bell_list, bell[i], ms_dy,  "bell"+i, "bell("+i+")", list_name); }

	return bell_list;
}

function make_catalan_list(list_name) {
	var catalan_list = [];
	count = 0;

	for (var i=22; i<=24; i++) { addto_master(catalan_list, catalan[i], ms_ms,  "catalan"+i, "catalan("+i+")", list_name); }
	for (var i=16; i<=19; i++) { addto_master(catalan_list, catalan[i], ms_s,   "catalan"+i, "catalan("+i+")", list_name); }
	for (var i=13; i<=16; i++) { addto_master(catalan_list, catalan[i], ms_min, "catalan"+i, "catalan("+i+")", list_name); }
	for (var i=10; i<=13; i++) { addto_master(catalan_list, catalan[i], ms_hr,  "catalan"+i, "catalan("+i+")", list_name); }
	for (var i=7; i<=10; i++)  { addto_master(catalan_list, catalan[i], ms_dy,  "catalan"+i, "catalan("+i+")", list_name); }
	
	return catalan_list;
}

function make_pow_2_x_list(list_name) {
	var pow_2_x_list = [];
	count = 0;
	
	for (var i=35; i<=41; i++) { addto_master(pow_2_x_list, Math.pow(2,i), ms_ms,  "pow2_"+i, "2^"+i, list_name); }
	for (var i=25; i<=31; i++) { addto_master(pow_2_x_list, Math.pow(2,i), ms_s,   "pow2_"+i, "2^"+i, list_name); }
	for (var i=20; i<=26; i++) { addto_master(pow_2_x_list, Math.pow(2,i), ms_min, "pow2_"+i, "2^"+i, list_name); }
	for (var i=14; i<=20; i++) { addto_master(pow_2_x_list, Math.pow(2,i), ms_hr,  "pow2_"+i, "2^"+i, list_name); }
	for (var i=9; i<=15; i++)  { addto_master(pow_2_x_list, Math.pow(2,i), ms_dy,  "pow2_"+i, "2^"+i, list_name); }

	return pow_2_x_list;
}

function make_digits_list(list_name) {
	var digits_list = [];
	count = 0;
	addto_master(digits_list, 123456789,  ms_s, "n_123456789",  "123,456,789",   list_name);
	addto_master(digits_list, 1234567890, ms_s, "n_1234567890", "1,234,567,890", list_name);
	addto_master(digits_list, 987654321,  ms_s, "n_987654321",  "987,654,321",   list_name);

	return digits_list;
}

function make_pow_10_x_list(list_name) {
	var pow_10_x_list = [];
	count = 0;

	addto_master(pow_10_x_list, Math.pow(10,8), ms_s,   list_name+"8", "100 million",  list_name);
	addto_master(pow_10_x_list, Math.pow(10,9), ms_s,   list_name+"9", "1 billion",    list_name);
	addto_master(pow_10_x_list, Math.pow(10,6), ms_min, list_name+"6", "1 million",    list_name);
	addto_master(pow_10_x_list, Math.pow(10,7), ms_min, list_name+"7", "10 million",   list_name);  
	addto_master(pow_10_x_list, Math.pow(10,4), ms_hr,  list_name+"4", "10 thousand",  list_name);
	addto_master(pow_10_x_list, Math.pow(10,5), ms_hr,  list_name+"5", "100 thousand", list_name);
	addto_master(pow_10_x_list, Math.pow(10,6), ms_hr,  list_name+"6", "1 million",    list_name);
	addto_master(pow_10_x_list, Math.pow(10,3), ms_dy,  list_name+"3", "1 thousand",   list_name);         
	addto_master(pow_10_x_list, Math.pow(10,4), ms_dy,  list_name+"4", "10 thousand",  list_name);

	return pow_10_x_list;
}

function make_fibonacci_list(list_name) {
	var fibonacci_list = [];
	count = 0;

	for (var i=52; i<=62; i++) { addto_master(fibonacci_list, fibonacci[i], ms_ms,  list_name+i, list_name+"("+i+")", list_name); }
	for (var i=38; i<=47; i++) { addto_master(fibonacci_list, fibonacci[i], ms_s,   list_name+i, list_name+"("+i+")", list_name); }
	for (var i=30; i<=39; i++) { addto_master(fibonacci_list, fibonacci[i], ms_min, list_name+i, list_name+"("+i+")", list_name); }
	for (var i=21; i<=30; i++) { addto_master(fibonacci_list, fibonacci[i], ms_hr,  list_name+i, list_name+"("+i+")", list_name); }
	for (var i=14; i<=24; i++) { addto_master(fibonacci_list, fibonacci[i], ms_dy,  list_name+i, list_name+"("+i+")", list_name); }

	return fibonacci_list;
}

function make_factorials_list(list_name) {
	var factorials_list = [];
	count = 0;
	
	for (var i=14; i<=15; i++) { addto_master(factorials_list, factorials[i], ms_ms,  list_name+i, i+"!", list_name); }
	for (var i=11; i<=12; i++) { addto_master(factorials_list, factorials[i], ms_s,   list_name+i, i+"!", list_name); }
	for (var i=10; i<=11; i++) { addto_master(factorials_list, factorials[i], ms_min, list_name+i, i+"!", list_name); }
	for (var i=8; i<=9; i++)   { addto_master(factorials_list, factorials[i], ms_hr,  list_name+i, i+"!", list_name); }
	for (var i=6; i<=8; i++)   { addto_master(factorials_list, factorials[i], ms_dy,  list_name+i, i+"!", list_name); }	

	return factorials_list;
}

function make_primes_list(list_name) {
	var primes_list = [];
	count = 0;
	
	for (var i=7; i<=8; i++) { addto_master(primes_list, primes["10^"+i], ms_s,   list_name+i, "prime(10^"+i+")", list_name); }
	for (var i=5; i<=6; i++) { addto_master(primes_list, primes["10^"+i], ms_min, list_name+i, "prime(10^"+i+")", list_name); }
	for (var i=4; i<=4; i++) { addto_master(primes_list, primes["10^"+i], ms_hr,  list_name+i, "prime(10^"+i+")", list_name); }

	return primes_list;
}

function make_fermat_list(list_name) {
	var fermat_list = [];
	count = 0;

	var i = 5;
	addto_master(fermat_list, fermat[i], ms_hr, list_name+i, list_name+"("+i+")", list_name);

	return fermat_list;
}

function make_mersenne_list(list_name) {
	var mersenne_list = [];
	count = 0;

	var i=8;
	addto_master(mersenne_list, mersenne[i], ms_s, list_name+i, list_name+"("+i+")", list_name);

	return mersenne_list;
}

/* Inexplicably, these are all totally wrong ... I got it from
http://nssdc.gsfc.nasa.gov/planetary/factsheet/index.html 
but it doesn't correlate with wikipedia at all .... must look into this. */
var mercury_day_in_hours = 4222.6;
var venus_synodic_period_in_days = 583.92; // From http://nssdc.gsfc.nasa.gov/planetary/factsheet/venusfact.html

var earth_day_in_hours = 24.0;
var moon_day_in_hours = 708.7;
var mars_day_in_hours = 24.7;
var jupiter_day_in_hours = 9.9;
var saturn_day_in_hours = 10.7;
var uranus_day_in_hours = 17.2;
var neptune_day_in_hours = 16.1;
var pluto_day_in_hours = 153.3;

function make_planet_list(list_name) {
	var planet_list = [];
	count = 0;

	for (var i=1; i<=26; i++) {
		addto_master_planet(planet_list, mercury_day_in_hours*10*i, ms_hr, "mercury_days_"+(10*i), (10*i)+" mercury days", list_name); }
	for (var i=1; i<=16; i++) {
		addto_master_planet(planet_list, venus_synodic_period_in_days*(i*5), ms_dy, "venus_days_"+(5*i), (5*i)+" venus days", list_name); }
	for (var i=1; i<=16; i++) {
		addto_master_planet(planet_list, moon_day_in_hours*100*i, ms_hr, "moon_days_"+(100*i), (100*i)+" moon days", list_name); }
	for (var i=1; i<=23; i++) {
		addto_master_planet(planet_list, mars_day_in_hours*2000*i, ms_hr, "mars_days_"+(2000*i), (2000*i)+" mars days", list_name); }
	for (var i=1; i<=23; i++) {
		addto_master_planet(planet_list, jupiter_day_in_hours*5000*i, ms_hr, "jupiter_days_"+(5000*i), (5000*i)+" jupiter days", list_name); }
	for (var i=1; i<=21; i++) {
		addto_master_planet(planet_list, saturn_day_in_hours*5000*i, ms_hr, "saturn_days_"+(5000*i), (5000*i)+" saturn days", list_name); }
	for (var i=1; i<=13; i++) { 
		addto_master_planet(planet_list, uranus_day_in_hours*5000*i, ms_hr, "uranus_days_"+(5000*i), (5000*i)+" uranus days", list_name); }
	for (var i=1; i<=14; i++) { 
		addto_master_planet(planet_list, neptune_day_in_hours*5000*i, ms_hr, "neptune_days_"+(5000*i), (5000*i)+" neptune days", list_name); }
	for (var i=1; i<=14; i++) { 
		addto_master_planet(planet_list, pluto_day_in_hours*500*i, ms_hr, "pluto_days_"+(500*i), (500*i)+" pluto days", list_name); }

	return planet_list;
}


var master_list = [];
var repunit_list = [];
var bell_list = [];
var catalan_list = [];
var pow_2_x_list = [];
var digits_list = [];
var pow_10_x_list = [];
var fibonacci_list = [];
var factorials_list = [];
var primes_list = [];
var fermat_list = [];
var mersenne_list = [];
var planet_list = [];


function initialize_table() {	
	
	repunit_list = make_repunit_list("repunit");
	bell_list = make_bell_list("bell");
	catalan_list = make_catalan_list("catalan");
	pow_2_x_list = make_pow_2_x_list("pow2_");
	digits_list = make_digits_list("digits");
	pow_10_x_list = make_pow_10_x_list("pow10_");
	fibonacci_list = make_fibonacci_list("fibonacci");
	factorials_list = make_factorials_list("factorial");
	primes_list = make_primes_list("prime10_");
	fermat_list = make_fermat_list("fermat");
	mersenne_list = make_mersenne_list("mersenne");
	planet_list = make_planet_list("planet");

	master_list = master_list.concat(repunit_list);
	master_list = master_list.concat(bell_list);
	master_list = master_list.concat(catalan_list);
	master_list = master_list.concat(pow_2_x_list);
	master_list = master_list.concat(digits_list);
	master_list = master_list.concat(pow_10_x_list);
	master_list = master_list.concat(fibonacci_list);
	master_list = master_list.concat(factorials_list);
	master_list = master_list.concat(primes_list);
	master_list = master_list.concat(fermat_list);
	master_list = master_list.concat(mersenne_list);
	master_list = master_list.concat(planet_list);

	master_list.sort(function(a,b) {
		return (b.number*b.factor) - (a.number*a.factor);
	});

	for (var i = master_list.length - 1; i >= 0; i--) {
		add_Row(master_list[i]);
	};	
}

function processJSON(data) {
	var bday = new Date(data.year, data.month, data.day);
	
	for (var i = 0; i < master_list.length; i++) {
		edit_Row(bday, master_list[i]);
	}
}

function hideshow(button, list_name) {
	if (!button.hasClass('show')) {
		button.addClass('show');
		showList(list_name);
	} else {
		button.removeClass('show');
		hideList(list_name);
	}
}

$(document).ready(function() {
	$.each(monthList, function(key,value){
		$('#month').append('<option value='+value+'>'+key+'</option>');
	});
	$.each(dayList, function(key,value){
		$('#day').append('<option value='+value+'>'+value+'</option>');
	});

/* Set default to the current date */
	var Month = Date.today().toString("MMM");
	var MonthNum = Date.getMonthNumberFromName(Month);

	var DayNum = Date.today().toString("d");
	var Year = Date.today().toString("yyyy")

	$("#month option[value='"+MonthNum+"']").attr("selected","selected");
	$("#day option[value='"+DayNum+"']").attr("selected","selected");
	$("#year").val(Year);


/* Make toggle buttons */
	$("#factorial").click( function(event) { hideshow($(event.currentTarget), "factorial"); });
	$("#repunit").click( function(event) { hideshow($(event.currentTarget), "repunit"); });
	$("#bell").click( function(event) { hideshow($(event.currentTarget), "bell"); });
	$("#fibonacci").click( function(event) { hideshow($(event.currentTarget), "fibonacci"); });
	$("#catalan").click( function(event) { hideshow($(event.currentTarget), "catalan"); });
	$("#pow2_").click( function(event) { hideshow($(event.currentTarget), "pow2_"); });
	$("#pow10_").click( function(event) { hideshow($(event.currentTarget), "pow10_"); });
	$("#planet").click( function(event) { hideshow($(event.currentTarget), "planet"); });
	$("#primes").click( function(event) { hideshow($(event.currentTarget), "prime10_"); });
	$("#fermat").click( function(event) { hideshow($(event.currentTarget), "fermat"); });
	$("#mersenne").click( function(event) { hideshow($(event.currentTarget), "mersenne"); });
	$("#digits").click( function(event) { hideshow($(event.currentTarget), "digits"); });

	initialize_table();

	$('#birthday').ajaxForm({ dataType: 'json',
			beforeSubmit: validate,
			success: processJSON
	});
});

</script>
</body>
</hmtl>